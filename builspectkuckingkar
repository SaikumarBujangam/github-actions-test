locals { 
  tables = [
      {
          name      = "Organisation",
          hash_key  = "org_key",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "PlatformConfig",
          hash_key  = "item_name",
          range_key = "item_type",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "Project",
          hash_key  = "project_key",
          range_key = "org_key", 
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "User",
          hash_key  = "id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "UserRoleDetails",
          hash_key  = "user_id",
          range_key = "role_hashkey",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "UserTrainingDetails",
          hash_key  = "id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "DataIngress",
          hash_key  = "project_key",
          range_key = "composed_key",
          stream_enabled = true,
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name                  = "UserLoginDetails",
          hash_key              = "user_email",
          ttl_attribute_name    = "expiry_time",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "ProjectInfraDetails",
          hash_key  = "project_key",
          range_key = "resource_key", 
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "RoleDetails",
          hash_key  = "role_id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "Audit",
          hash_key  = "audit_id",
          range_key = "project_key",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "DataIngressLog",
          hash_key  = "log_id",
          range_key = "date_time_changed",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "Sites",
          hash_key  = "id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "ProjectNetworkDetails",
          hash_key  = "id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "OrganisationNetworkDetails",
          hash_key  = "id",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "Instance",
          hash_key  = "instance_id",
          range_key = "project_key",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "FileUpload",
          hash_key  = "FileId",
          range_key = "CreatedBy",
          global_secondary_indexes = null  # Add this line for tables without GSI
      },
      {
          name      = "Dataset",
          hash_key  = "dataset_id",
          global_secondary_indexes = [
            {
              name               = "OrgKey-DatasetName-Index",
              hash_key           = "org_key",
              range_key          = "dataset_name",
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
            {
              name               = "OrgKey-ProjectKey-CreatedBy-Index",
              hash_key           = "org_key#project_key",
              range_key          = "created_by",
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
          ]
      },
      {
          name      = "DataAsset",
          hash_key  = "data_asset_id",
          global_secondary_indexes = [
            {
              name               = "DatasetId-Status-Index",
              hash_key           = "data_set_id",
              range_key          = "status",
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
            {
              name               = "DatasetIdIndex",
              hash_key           = "data_set_id",
              range_key          = null,
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
          ]
      },
      {
          name      = "DataAssetFile",
          hash_key  = "data_asset_file_id",
          global_secondary_indexes = [
            {
              name               = "DataAssetIdIndex",
              hash_key           = "data_asset_id",
              range_key          = null,
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
            {
              name               = "DatasetIdIndex",
              hash_key           = "data_set_id",
              range_key          = null,
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
          ]
      },
      {
          name      = "DataAssetMetadata",
          hash_key  = "data_asset_metadata_id",
          global_secondary_indexes = [
            {
              name               = "DataAssetIdIndex",
              hash_key           = "data_asset_id",
              range_key          = null,
              projection_type    = "ALL",
              write_capacity     = 1,
              read_capacity      = 1,
              non_key_attributes = ["UserId"],
            },
          ]
      }
  ]
}
