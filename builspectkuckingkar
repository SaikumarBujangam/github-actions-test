# Define the attributes dynamically based on global_secondary_indexes
dynamic "attribute" {
  for_each = flatten([for gsi in var.global_secondary_indexes : [gsi.hash_key, gsi.range_key]])
  content {
    name = attribute.value
    type = contains(var.global_secondary_indexes[*].range_key, attribute.value) ? "S" : "N"
  }
}
