locals {
  imported_table_identifiers = {
    ProjectNetworkDetails = "arn:aws:dynamodb:eu-central-1:745252665765:table/ProjectNetworkDetails",
  }
}

module "platform_dynamodb_table" {
  source      = "../aws-common/dynamodb"

  for_each              = { for table in local.tables : table.name => merge(var.default_table_attributes, table) }
  table_name            = each.key
  hash_key              = each.value.hash_key
  range_key             = each.value.range_key
  ttl_attribute_name    = each.value.ttl_attribute_name
  stream_enabled        = each.value.stream_enabled
  imported_identifier   = local.imported_table_identifiers[each.key] # Reference the identifier here
}
