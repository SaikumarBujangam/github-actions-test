- |
        if [[ ! $SONAR_ANALYSIS_EXCLUSION =~ "app" ]]; then
          ng test --watch=false --code-coverage
          sonar-scanner -Dsonar.projectKey=starcap-webapp -Dsonar.projectName=starcap-webapp -Dsonar.branch.name=develop -Dsonar.projectBaseDir=. -Dsonar.sources=$PWD/src -Dsonar.javascript.lcov.reportPaths=$PWD/coverage/lcov.info -Dsonar.tests=$PWD/src -Dsonar.test.inclusions=$PWD/src/**/*.spec.ts -Dsonar.typescript.jstestdriver.coveragefile=$PWD/coverage/lcov.info -Dsonar.qualitygate.wait=true -Dsonar.host.url=https://sonarqube.roche.com
        else
          echo "Sonar analysis was not executed"
        fi
      - ng build --c=dev
      - cd dist/webapp
      - ls -lrt
