module "sagemaker" {
    source = "../../terraform-modules/terraform-aws-sagemaker"
  
    region                        = var.region
    vpc                           = data.aws_vpc.domain_vpc.id
    subnet_ids                    = data.aws_subnets.domain_subnets.ids
    domain_name                   = "${var.org_key}-domain"
    user_execution_role_arn       = data.aws_iam_role.org_role.arn
    space_execution_role_arn      = data.aws_iam_role.org_role.arn
    sagemaker_spacename           = "${var.org_key}-space"
    s3_output_path                = var.s3_output_path
    s3_artifact_path              = var.s3_artifact_path
    r_studio_connect_url          = var.r_studio_connect_url
    r_studio_package_manager_url  = var.r_studio_package_manager_url
      tags = merge(
    {
      "organization" = "${var.org_key}"
    }, 
    {
      "platform"     = "${var.platform}"
    }, 
  )
}
