# ADL Deploy Artifacts Workflow

name: ADL Deploy Artifacts
on:
  workflow_run:
    workflows: ["ADL CICD Initiate Deployment"]
    types:
      - completed

jobs:
  adl-aws-deploy:
    runs-on: ubuntu-latest
    env:
      event_repo_name: ${{ needs.adl-cicd-checkout-repo-phase.outputs.event_repo_name }}
      cicd_version: ${{ needs.adl-cicd-checkout-repo-phase.outputs.cicd_version }}
      event_repo_branch: ${{ needs.adl-cicd-checkout-repo-phase.outputs.event_repo_branch }}
      calling_repo_name: ${{ needs.adl-cicd-checkout-repo-phase.outputs.calling_repo_name }}
      dispatch_repo_name: ${{ needs.adl-cicd-checkout-repo-phase.outputs.dispatch_repo_name }}
    steps:
      - name: Log Environment Variables
        run: |
          echo "This is the Repo to deploy: $event_repo_name"
          echo "This is the stable repo release version to deploy: $cicd_version"
          echo "This is the Repo that made the request: $calling_repo_name"
          echo "This is the Version Of CICD being used: $calling_repo_name-$cicd_version"

      # Continue with the rest of your deployment steps
      # ...
