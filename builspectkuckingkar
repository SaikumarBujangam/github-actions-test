import subprocess
import sys

def run_command(command):
    try:
        return subprocess.getoutput(command)
    except Exception as e:
        print(f"Error executing command '{command}': {e}")
        sys.exit(1)

instance_id = sys.argv[1]
region = sys.argv[2]

print(f"Instance ID: {instance_id}")
print(f"Region: {region}")

instance_id_cmd = f"aws ec2 describe-instances --filters Name=instance-id,Values={instance_id} --query 'Reservations[*].Instances[*].InstanceId' --output text --region {region}"
instance_id = run_command(instance_id_cmd)
print(f"Described Instance ID: {instance_id}")

volume_id_cmd = f"aws ec2 describe-volumes --filters Name=attachment.instance-id,Values={instance_id} --query 'Volumes[*].VolumeId' --output text --region {region}"
volume_id = run_command(volume_id_cmd)
print(f"Volume ID: {volume_id}")

modify_volume_cmd = f"aws ec2 modify-volume --volume-id {volume_id} --size 50 --region {region}"
print(f"Executing modify-volume command: {modify_volume_cmd}")
run_command(modify_volume_cmd)
