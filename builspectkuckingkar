name: ADL Deploy Artifacts

on:
  push:
    branches: [ master, release/qa, release/qc, release/prod ]
    types: [opened, reopened, edited]

  workflow_call:
    secrets:
      envPAT:
        required: true

jobs:
  adl-aws-deploy:
    runs-on: ubuntu-latest
    inputs:
      event_repo_name: # Add input for event_repo_name
        description: 'The name of the repository to deploy'
        required: true
      cicd_version: # Add input for cicd_version
        description: 'The version of the CICD being used'
        required: true
      event_repo_branch: # Add input for event_repo_branch
        description: 'The branch of the repository to deploy'
        required: true
      calling_repo_name: # Add input for calling_repo_name
        description: 'The name of the repository that made the request'
        required: true
      dispatch_repo_name: # Add input for dispatch_repo_name
        description: 'The name of the dispatch repository'
        required: true

    env:
      event_repo_name: ${{ inputs.event_repo_name }}
      cicd_version: ${{ inputs.cicd_version }}
      event_repo_branch: ${{ inputs.event_repo_branch }}
      calling_repo_name: ${{ inputs.calling_repo_name }}
      dispatch_repo_name: ${{ inputs.dispatch_repo_name }}

    steps:
      # Existing steps remain unchanged

