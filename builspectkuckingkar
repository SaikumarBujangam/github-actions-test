root@ip-192-168-98-189 bin]# ./resize_volume.sh
./resize_volume.sh: line 1: INSTANCE_ID: command not found
./resize_volume.sh: line 2: VOLUME_ID: command not found
Note: AWS CLI version 2, the latest major version of the AWS CLI, is now stable and recommended for general use. For more information, see the AWS CLI version 2 installation instructions at: https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html

usage: aws [options] <command> <subcommand> [<subcommand> ...] [parameters]
To see help text, you can run:

  aws help
  aws <command> help
  aws <command> <subcommand> help
aws: error: argument --volume-id: expected one argument
[root@ip-192-168-98-189 bin]#


INSTANCE_ID = $(aws ec2 describe-instances --filters Name=instance-id,Values=${data.aws_instance.cloud9.id} Name=instance-state-name,Values=running --query 'Reservations[*].Instances[*].InstanceId' --output text --region ${var.region})
VOLUME_ID = $(aws ec2 describe-volumes --filters Name=attachment.instance-id,Values=$INSTANCE_ID Name=attachment.device,Values=/dev/xvda --query 'Volumes[*].VolumeId' --output text --region ${var.region})
aws ec2 modify-volume --volume-id $VOLUME_ID --size 50 --region ${var.region}
