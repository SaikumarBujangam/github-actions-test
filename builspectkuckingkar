dynamic "attribute" {
  for_each = flatten([for gsi in var.global_secondary_indexes : [gsi.hash_key, gsi.name]])
  content {
    name = attribute.value
    type = contains(var.global_secondary_indexes[*].hash_key, attribute.value) ? "S" : "N"
  }
}
