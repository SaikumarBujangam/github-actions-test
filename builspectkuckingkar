resource "aws_route53_record" "validation_v2" {
  count = var.create_v2_certifcate ? 1 : 0
  
  dynamic "dvo" {
    for_each = aws_acm_certificate.certificate_v2[0].domain_validation_options
    content {
      name            = dvo.value.resource_record_name
      type            = dvo.value.resource_record_type
      zone_id         = data.aws_route53_zone.hosted_zone_v2.id
      records         = [dvo.value.resource_record_value]
      ttl             = "60"
      allow_overwrite = true
    }
  }
}
