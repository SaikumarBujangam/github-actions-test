
data "aws_vpc" "project_vpc" {
   filter {
    name    = "tag:Name"
    values  =["proje1697521250559-vpc"]
  }
}

data "aws_subnets" "project_subnets" {
  
  filter {
    name   = "vpc-id"
    values = [data.aws_vpc.project_vpc.id]
  }
  
  tags = {
      type = "private-subnet"
  }
} 

data "aws_security_group" "notebook_sg" {
  name = "proje1697521250559-common-sg"
}

data "aws_iam_role" "project_role" {
  name = "proje1697521250559-common-project-role"
}

module "fsx" {
  source                 = "../terraform-modules/terraform-aws-fsx"
  subnet_ids             =  data.aws_subnets.project_subnets
  
  security_groups         = [data.aws_security_group.notebook_sg]
}


C:\Users\umababy.kannan\OneDrive - HCL Technologies Ltd\Documents\Star CAP\project-infra-provisioning-services\infra-scripts\terraform-init>terraform plan
╷
│ Error: no matching EC2 VPC found
│
│   with data.aws_vpc.project_vpc,
│   on main.tf line 18, in data "aws_vpc" "project_vpc":
│   18: data "aws_vpc" "project_vpc" {
│
╵
╷
│ Error: no matching EC2 Security Group found
│
│   with data.aws_security_group.notebook_sg,
│   on main.tf line 37, in data "aws_security_group" "notebook_sg":
│   37: data "aws_security_group" "notebook_sg" {
│
╵

C:\Users\umababy.kannan\OneDrive - HCL Technologies Ltd\Documents\Star CAP\project-infra-provisioning-services\infra-scripts\terraform-init>
