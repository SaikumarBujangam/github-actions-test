resource "aws_codestarnotifications_notification_rule" "pipeline_updates" {
  detail_type    = "FULL"
  event_type_ids = var.event_type_ids
  name           = "slackNotification${var.codepipelines_name}"
  resource       = var.codepipelines_arn

  target {
    address = aws_sns_topic.pipeline_updates.arn
    type    = "SNS"
  }

  tags = var.tags
}
